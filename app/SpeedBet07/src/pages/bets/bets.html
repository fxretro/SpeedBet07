
<ion-header>

  <ion-navbar text-center no-border-bottom>
    <ion-title *ngIf="! isMultiple">Apostas</ion-title>  
    <ion-title *ngIf="isMultiple">Apostas multiplas</ion-title>  
  </ion-navbar>
</ion-header>


<ion-content class="trips detail-bg">

  <ion-list  no-lines no-padding>  

    <ion-card class="trip card" text-wrap no-lines  *ngIf="payload && !isMultiple">

      <ion-card-header color="primary"><ion-title>{{payload.time_a}} x {{payload.time_b}}</ion-title> </ion-card-header>         

      <ion-item no-lines>                           
      
        <p><b>Data: {{payload.data}} {{payload.hora}} </b></p> 
        <p><b>Odd Casa: </b> {{payload.odd_casa}}</p>
        <p><b>Odd Empate: </b> {{payload.odd_empate}}</p>
        <p><b>Odd Visitante: </b> {{payload.odd_fora}}</p>       

        </ion-item>

      <ion-item no-lines>    
        <ion-label stacked>Aposta</ion-label>  

        <ion-select [(ngModel)]="selectedService" multiple="true">
          <ion-option *ngFor="let service of servicesArray">{{service.name}}</ion-option>
        </ion-select>                          

      </ion-item>       
      
      <ion-item no-lines *ngIf="dataInfo.userInfo.userType !== 3">    

        <ion-label stacked>{{dataText.selectClients}}</ion-label>  
        <ion-select [(ngModel)]="client" (ionChange)="clientChanged()">         
          <ion-option *ngFor="let cl of usersClientsArray">{{cl.name}}</ion-option>
        </ion-select>                          
      </ion-item>      

   
      <ion-item>
        <ion-label stacked>Valor da aposta</ion-label><ion-input type="number" [(ngModel)]="finalValue" [attr.maxlength]="18" (keyup.enter)="apostaChanged()" (ionBlur)="apostaChanged()"></ion-input>
      </ion-item>  

      <ion-item>
        <ion-label stacked>Resultado positivo</ion-label><ion-input type="number" [(ngModel)]="finalValueReceived" [attr.maxlength]="18" (keyup.enter)="apostaChanged()" (ionBlur)="apostaChanged()"></ion-input>
      </ion-item>  
                                                                 
    </ion-card>

    

    <ion-card class="trip card" text-wrap no-lines  *ngIf="payload && isMultiple">

      <ion-item text-wrap *ngFor="let match of payload" no-lines no-padding>          

        <ion-list-header color="primary">{{match.championship}} </ion-list-header>   

          <ion-col col-2>

            {{match.data}}
            {{match.hora}}
          
          </ion-col>

          <ion-col>{{match.time_a}} x {{match.time_b}}</ion-col>

          <ion-row>                
        

            <ion-col *ngIf="match.odd_casa_ativo === 0">
              <button ion-button icon-start clear small (click)="addBet(match, 1)" color="primary">
                  <ion-icon name="md-home"></ion-icon>
                  C {{match.odd_casa}}
              </button>
            </ion-col> 
            
            <ion-col *ngIf="match.odd_casa_ativo === 1">
              <button ion-button icon-start clear small (click)="addBet(match, 1)" color="secondary">
                  <ion-icon name="md-home"></ion-icon>
                  C {{match.odd_casa}}
              </button>
            </ion-col>  


            <ion-col *ngIf="match.odd_empate_ativo === 0">
              <button ion-button icon-start clear small (click)="addBet(match, 2)" color="primary">
                  <ion-icon name="md-home"></ion-icon>
                  E {{match.odd_empate}}
              </button>
            </ion-col> 
            
            <ion-col *ngIf="match.odd_empate_ativo === 1">
              <button ion-button icon-start clear small (click)="addBet(match, 2)" color="secondary">
                  <ion-icon name="md-home"></ion-icon>
                  E {{match.odd_empate}}
              </button>
            </ion-col> 


            <ion-col *ngIf="match.odd_fora_ativo === 0">
              <button ion-button icon-start clear small (click)="addBet(match, 3)" color="primary">
                  <ion-icon name="md-home"></ion-icon>
                  F {{match.odd_fora}}
              </button>
            </ion-col> 
            
            <ion-col *ngIf="match.odd_fora_ativo === 1">
              <button ion-button icon-start clear small (click)="addBet(match, 3)" color="secondary">
                  <ion-icon name="md-home"></ion-icon>
                  F {{match.odd_fora}}
              </button>
            </ion-col> 
            
          </ion-row>
                                             
      </ion-item>
                                                           
    </ion-card>



  </ion-list>    

 
</ion-content>



<ion-footer>  
  
  <ion-list>        
        
      <button ion-button block class="btn bg-theme mrg-bt-10 text-white" (click)="enviaQuickRun()" [disabled]="finalValue <= 0">
        <ion-icon name="md-send"  item-start style="margin-right: 15px;"></ion-icon>Enviar R$ {{finalValue}}
      </button>               

    </ion-list>
        
</ion-footer>